(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,n,t){e.exports=t(58)},33:function(e,n,t){},34:function(e,n,t){},58:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),l=t(26),c=t.n(l),r=(t(33),t(6)),i=t(1),s=(t(34),t(10)),u=function(){var e=Object(i.f)();return o.a.createElement("section",{style:{width:"90%",height:250,clear:"both",paddingTop:50,textAlign:"center",margin:" 0px auto"},className:"jumbotron border border-success"},o.a.createElement("h1",null,"(React) Google Books Search"),o.a.createElement("h3",null,function(e){return"/search"===e||"/"===e?"Search for and Save Books of Interest":"Browse Save Books"}(e.pathname)))},m=t(11),f=t.n(m),d={getBooksFrontEnd:function(e){return f.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e))},getDbBooks:function(){return f.a.get("/api/books/")},deleteBook:function(e){return f.a.delete("/api/books/"+e)},saveBook:function(e){return f.a.post("/api/books/",e)}},h=function(e){var n=e.books,t=Object(a.useState)([]),l=Object(s.a)(t,2),c=l[0],r=l[1],u=Object(i.f)(),m=function(e){return"/savedBooks"===e?"Delete":"Save"};function f(e){var t=n.find(function(n){return n.id===e}),a={title:t.volumeInfo.title,subtitle:t.volumeInfo.subtitle,authors:t.volumeInfo.authors,description:t.volumeInfo.description,image:t.volumeInfo.imageLinks.thumbnail,link:t.volumeInfo.infoLink,googleId:t.id};console.log(a),d.saveBook(a).then(function(){console.log("you saved a book")}).catch(function(e){return console.log(e)})}return Object(a.useEffect)(function(){d.getDbBooks().then(function(e){console.log(e.data,"in db Call"),r(e.data)})},[]),o.a.createElement("section",{className:"border",style:{padding:"20px 10px"}},function(e){switch(console.log(c),e){case"/savedBooks":if(c)return c.map(function(n){return o.a.createElement("div",{key:n.googleId,className:"border",style:{padding:"10px 10px"}},o.a.createElement("section",{style:{display:"flex"}},o.a.createElement("section",{className:"col-9"},o.a.createElement("h4",null,n.title),o.a.createElement("p",null,"Written By: ",n.authors)),o.a.createElement("section",{className:"col-3",style:{display:"flex",justifyContent:"flex-end",height:"30%"}},o.a.createElement("button",null,o.a.createElement("a",{href:n.infoLink,target:"_blank",rel:"noopener noreferrer"},"More Info")),o.a.createElement("button",{onClick:function(){"/savedBooks"===e.pathname?n.googleId:f(n.googleId)}},m(e.pathname)))),o.a.createElement("section",null,o.a.createElement("section",{style:{display:"flex"}},o.a.createElement("img",{className:"col-2",src:n.image?n.image:"#",alt:" Pic of the Book"}),o.a.createElement("p",{className:"col-10"},n.description))))});break;case"/":case"/search":return n&&n.map(function(n){return o.a.createElement("div",{key:n.id,className:"border",style:{padding:"10px 10px"}},o.a.createElement("section",{style:{display:"flex"}},o.a.createElement("section",{className:"col-9"},o.a.createElement("h4",null,n.volumeInfo.title),o.a.createElement("p",null,"Written By: ",n.volumeInfo.authors)),o.a.createElement("section",{className:"col-3",style:{display:"flex",justifyContent:"flex-end",height:"30%"}},o.a.createElement("button",null,o.a.createElement("a",{href:n.volumeInfo.infoLink,target:"_blank",rel:"noopener noreferrer"},"More Info")),o.a.createElement("button",{onClick:function(){"/savedBooks"===e.pathname?n.id:f(n.id)}},m(e.pathname)))),o.a.createElement("section",null,o.a.createElement("section",{style:{display:"flex"}},o.a.createElement("img",{className:"col-2",src:n.volumeInfo.imageLinks.thumbnail?n.volumeInfo.imageLinks.thumbnail:"#",alt:" Pic of the Book"}),o.a.createElement("p",{className:"col-10"},n.volumeInfo.description))))})}}(u.pathname))},p={container:{margin:"20px 30px",padding:"30px 10px",textAlign:"left"}},E=function(e){var n=e.books;console.log(n);var t=Object(i.f)();return o.a.createElement("section",{style:p.container,className:"border"},o.a.createElement("h4",null,function(e){return"/search"===e||"/"===e?"Results":"Saved Books"}(t.pathname)),o.a.createElement("section",null,o.a.createElement(h,{books:n})))},g=function(){var e=Object(a.useState)([]),n=Object(s.a)(e,2),t=n[0],l=n[1],c=Object(a.useState)(""),r=Object(s.a)(c,2),i=r[0],m=r[1],f=Object(a.useRef)();return o.a.createElement("div",null,o.a.createElement(u,null),o.a.createElement("div",null,o.a.createElement("form",null,o.a.createElement("label",null,"Search:"),o.a.createElement("input",{name:"BookSearch",value:i,ref:f,onChange:function(e){var n=e.target.value;m(n)},placeholder:"Search For a Book"}),o.a.createElement("button",{onClick:function(e){e.preventDefault(),d.getBooksFrontEnd(i).then(function(e){console.log(e.data),l(e.data.items)}).catch(function(e){return console.log(e)}),f.current.value=""},type:"success",className:"input-lg"},"Search"))),o.a.createElement(E,{books:t}))},v=function(){return o.a.createElement("section",null,o.a.createElement(u,null),o.a.createElement(E,null))},b=function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",style:{display:"flex"}},o.a.createElement(r.b,{className:"navbar-brand",to:"/"},"Google Books"),o.a.createElement(r.b,{className:"nav-item nav-link",to:"/search"},"Search"),o.a.createElement(r.b,{className:"nav-item nav-link",to:"/savedBooks"},"Saved Books"))};function k(e){var n=e.fluid,t=e.children;return o.a.createElement("div",{className:"container".concat(n?"-fluid":"")},t)}function w(e){var n=e.fluid,t=e.children;return o.a.createElement("div",{className:"row".concat(n?"-fluid":"")},t)}function y(e){var n=e.size,t=e.children;return o.a.createElement("div",{className:n.split(" ").map(function(e){return"col-"+e}).join(" ")},t)}var x=function(){return o.a.createElement(k,{fluid:!0},o.a.createElement(w,null,o.a.createElement(y,{size:"md-12"},o.a.createElement("div",null,o.a.createElement("h1",null,"404 Page Not Found"),o.a.createElement("h1",null,o.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))},B=function(){return o.a.createElement(r.a,null,o.a.createElement("section",{className:"App"},o.a.createElement(b,null),o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/",component:g}),o.a.createElement(i.a,{exact:!0,path:"/search",component:g}),o.a.createElement(i.a,{exact:!0,path:"/savedBooks",component:v}),o.a.createElement(i.a,{component:x}))))},N=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(r.a,null,o.a.createElement(B,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");N?function(e){fetch(e).then(function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):I(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):I(e)})}}()}},[[28,1,2]]]);
//# sourceMappingURL=main.7d8b1aee.chunk.js.map